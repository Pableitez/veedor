<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veedor - Control de Finanzas Personales</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Pantalla de Login/Registro -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-container">
            <div class="auth-header">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin: 0 auto 16px;">
                    <rect width="64" height="64" rx="16" fill="url(#gradient)"/>
                    <path d="M32 16L20 26V48H44V26L32 16Z" fill="white" fill-opacity="0.95"/>
                    <path d="M24 36H40M24 42H40" stroke="white" stroke-width="3" stroke-linecap="round"/>
                    <circle cx="32" cy="30" r="3" fill="white"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="64" y2="64" gradientUnits="userSpaceOnUse">
                            <stop offset="0%" stop-color="#0075FF"/>
                            <stop offset="100%" stop-color="#0051CC"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>Veedor</h1>
                <p>Control de Finanzas Personales</p>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab-btn active" data-auth-tab="login">Iniciar Sesi√≥n</button>
                <button class="auth-tab-btn" data-auth-tab="register">Registrarse</button>
            </div>
            
            <!-- Formulario de Login -->
            <div id="loginForm" class="auth-form active">
                <form id="loginFormElement">
                    <div class="form-group">
                        <label for="loginEmailOrUsername">Email o Nombre de Usuario</label>
                        <input type="text" id="loginEmailOrUsername" required autocomplete="username">
                        <small>Puedes usar tu email o tu nombre de usuario</small>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Contrase√±a</label>
                        <input type="password" id="loginPassword" required autocomplete="current-password">
                    </div>
                    <button type="submit" class="btn-primary btn-full">Iniciar Sesi√≥n</button>
                    <p id="loginError" class="error-message"></p>
                    <p style="text-align: center; margin-top: 16px;">
                        <a href="#" id="forgotPasswordLink" style="color: var(--primary); text-decoration: none; font-size: 14px;">¬øOlvidaste tu contrase√±a?</a>
                    </p>
                </form>
            </div>
            
            <!-- Formulario de Recuperaci√≥n de Contrase√±a -->
            <div id="forgotPasswordForm" class="auth-form" style="display: none;">
                <h3 style="margin-bottom: 20px;">Recuperar Contrase√±a</h3>
                <form id="forgotPasswordFormElement">
                    <div class="form-group">
                        <label for="forgotEmail">Email</label>
                        <input type="email" id="forgotEmail" required>
                    </div>
                    <button type="submit" class="btn-primary btn-full">Enviar Enlace de Recuperaci√≥n</button>
                    <p id="forgotPasswordError" class="error-message"></p>
                    <p id="forgotPasswordSuccess" class="success-message" style="display: none;"></p>
                </form>
                <div id="resetPasswordSection" style="display: none; margin-top: 20px;">
                    <h4 style="margin-bottom: 12px;">Ingresa el c√≥digo de recuperaci√≥n y tu nueva contrase√±a</h4>
                    <form id="resetPasswordFormElement">
                        <div class="form-group">
                            <label for="resetToken">C√≥digo de Recuperaci√≥n</label>
                            <input type="text" id="resetToken" required placeholder="Pega el c√≥digo copiado arriba">
                        </div>
                        <div class="form-group">
                            <label for="resetNewPassword">Nueva Contrase√±a</label>
                            <input type="password" id="resetNewPassword" required minlength="4">
                        </div>
                        <button type="submit" class="btn-primary btn-full">Restablecer Contrase√±a</button>
                        <p id="resetPasswordError" class="error-message"></p>
                    </form>
                </div>
                <p style="text-align: center; margin-top: 16px;">
                    <a href="#" id="backToLoginLink" style="color: var(--primary); text-decoration: none; font-size: 14px;">Volver a Iniciar Sesi√≥n</a>
                </p>
            </div>
            
            <!-- Formulario de Registro -->
            <div id="registerForm" class="auth-form">
                <form id="registerFormElement">
                    <div class="form-group">
                        <label for="registerEmail">Email</label>
                        <input type="email" id="registerEmail" required autocomplete="email">
                    </div>
                    <div class="form-group">
                        <label for="registerUsername">Nombre de Usuario</label>
                        <input type="text" id="registerUsername" required autocomplete="username" minlength="3">
                        <small>M√≠nimo 3 caracteres</small>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Contrase√±a</label>
                        <input type="password" id="registerPassword" required autocomplete="new-password" minlength="4">
                        <small>M√≠nimo 4 caracteres</small>
                    </div>
                    <div class="form-group">
                        <label for="registerPasswordConfirm">Confirmar Contrase√±a</label>
                        <input type="password" id="registerPasswordConfirm" required autocomplete="new-password">
                    </div>
                    <button type="submit" class="btn-primary btn-full">Crear Cuenta</button>
                    <p id="registerError" class="error-message"></p>
                </form>
            </div>
        </div>
    </div>

    <!-- Contenido Principal (oculto hasta login) -->
    <div id="mainApp" style="display: none; width: 100%; margin: 0; padding: 0; min-height: 100vh;">
        <header style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; padding: 18px 32px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 20px rgba(0, 117, 255, 0.25); border-bottom: none; width: 100%; box-sizing: border-box; margin: 0; left: 0; right: 0;">
            <div style="display: flex; align-items: center; gap: 12px;">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">
                    <rect width="40" height="40" rx="12" fill="white" fill-opacity="0.2"/>
                    <path d="M20 10L12 16V28H28V16L20 10Z" fill="white" fill-opacity="0.9"/>
                    <path d="M16 22H24M16 26H24" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="20" cy="18" r="2" fill="white"/>
                </svg>
                <h1 style="color: white; margin: 0; font-size: 24px; font-weight: 700; letter-spacing: -0.5px;">Veedor</h1>
            </div>
            <div class="header-actions">
                <span id="currentUser" class="user-info" style="cursor: pointer; padding: 10px 16px; border-radius: 10px; background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.25); color: white; transition: all 0.3s; font-weight: 500; display: inline-flex; align-items: center; gap: 8px; font-size: 14px;" onclick="showUserProfile()" title="Haz clic para ver tu perfil" onmouseover="this.style.background='rgba(255,255,255,0.25)'; this.style.borderColor='rgba(255,255,255,0.4)'" onmouseout="this.style.background='rgba(255,255,255,0.15)'; this.style.borderColor='rgba(255,255,255,0.25)'">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">
                        <circle cx="12" cy="8" r="4" stroke="white" stroke-width="2" fill="none"/>
                        <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" stroke="white" stroke-width="2" fill="none"/>
                    </svg>
                    <span id="currentUserText" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">Usuario</span>
                </span>
                <button id="switchUserBtn" class="btn-secondary" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white;">Cerrar Sesi√≥n</button>
            </div>
        </header>

        <div class="dashboard">
                <div style="margin-bottom: 24px;">
                    <h2 style="font-size: 20px; font-weight: 700; color: var(--gray-900); margin: 0 0 20px 0;">Panel de Mandos</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div style="background: white; padding: 16px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                            <label style="display: block; font-size: 13px; font-weight: 600; color: var(--gray-700); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">üìÖ An√°lisis del Mes</label>
                            <input type="month" id="dashboardMonth" style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px; background: white; cursor: pointer; transition: all 0.2s;">
                            <small style="display: block; margin-top: 6px; font-size: 11px; color: var(--gray-500);">Selecciona un mes para ver el an√°lisis detallado</small>
                        </div>
                        <div style="background: white; padding: 16px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                            <label style="display: block; font-size: 13px; font-weight: 600; color: var(--gray-700); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">üìä Vista de Resumen</label>
                            <select id="summaryPeriod" style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px; background: white; cursor: pointer; transition: all 0.2s; margin-bottom: 8px;">
                                <option value="month">Este Mes</option>
                                <option value="year">Este A√±o</option>
                                <option value="year-select">A√±o Espec√≠fico</option>
                                <option value="all">Todos los Tiempos</option>
                            </select>
                            <input type="number" id="summaryYear" min="2000" max="2100" style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px; background: white; cursor: pointer; transition: all 0.2s; display: none; margin-top: 8px;" placeholder="Selecciona el a√±o">
                            <small style="display: block; margin-top: 6px; font-size: 11px; color: var(--gray-500);">Per√≠odo para las tarjetas de resumen</small>
                        </div>
                    </div>
                </div>
                <div class="summary-cards" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 20px;">
                <div class="card" style="cursor: pointer;" onclick="showSummaryDetails('balance')" title="Haz clic para ver detalles">
                    <h3>Balance Total</h3>
                        <p class="amount" id="totalBalance">0,00 ‚Ç¨</p>
                        <small id="totalBalancePeriod">Todos los tiempos</small>
                    </div>
                    <div class="card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none; cursor: pointer;" onclick="showSummaryDetails('accounts')" title="Haz clic para ver detalles">
                        <h3 style="color: white;">üí∞ Saldo en Cuentas</h3>
                        <p class="amount" id="totalAccountsBalance" style="color: white;">0,00 ‚Ç¨</p>
                        <small style="color: rgba(255,255,255,0.9);">Total en todas las cuentas</small>
                    </div>
                    <div class="card" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; border: none;">
                        <h3 style="color: white;">Meta de Ahorro</h3>
                        <p class="amount" id="savingsGoal" style="color: white;">Sin meta</p>
                        <button id="setSavingsGoalBtn" class="btn-secondary" style="margin-top: 12px; font-size: 13px; padding: 8px 16px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white;">Establecer Meta</button>
                    </div>
                </div>
                <div class="summary-cards" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                <div class="card" style="cursor: pointer;" onclick="showSummaryDetails('income')" title="Haz clic para ver detalles">
                        <h3 id="periodIncomeLabel">Ingresos</h3>
                        <p class="amount positive" id="periodIncome">0,00 ‚Ç¨</p>
                        <small id="periodIncomeSubLabel">Este mes</small>
                </div>
                <div class="card" style="cursor: pointer;" onclick="showSummaryDetails('expenses')" title="Haz clic para ver detalles">
                        <h3 id="periodExpensesLabel">Gastos</h3>
                        <p class="amount negative" id="periodExpenses">0,00 ‚Ç¨</p>
                        <small id="periodExpensesSubLabel">Este mes</small>
                </div>
                <div class="card" style="cursor: pointer;" onclick="showSummaryDetails('savings')" title="Haz clic para ver detalles">
                        <h3 id="periodSavingsLabel">Ahorro</h3>
                        <p class="amount" id="periodSavings">0,00 ‚Ç¨</p>
                        <small id="periodSavingsSubLabel">Este mes</small>
                    </div>
                </div>
                
                <!-- Panel de Mandos del Mes -->
                <div id="monthDashboard" style="margin-top: 32px; display: none;">
                    <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 20px; color: var(--gray-900);">An√°lisis del Mes Seleccionado</h3>
                    
                    <!-- Gastos por Categor√≠a -->
                    <div style="margin-bottom: 32px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üìä Gastos por Categor√≠a</h4>
                        <div id="monthExpensesByCategory" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">
                        </div>
                    </div>
                    
                    <!-- Ingresos por Categor√≠a -->
                    <div style="margin-bottom: 32px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üí∞ Ingresos por Categor√≠a</h4>
                        <div id="monthIncomeByCategory" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">
                        </div>
                    </div>
                    
                    <!-- Estado de Presupuestos del Mes -->
                    <div style="margin-bottom: 32px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üìã Estado de Presupuestos</h4>
                        <div id="monthBudgetsStatus" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">
                        </div>
                    </div>
                    
                    <!-- Estado de Sobres del Mes -->
                    <div style="margin-bottom: 32px;">
                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üì¶ Estado de Sobres</h4>
                        <div id="monthEnvelopesStatus" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">
                        </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="tabs">
                <button class="tab-btn active" data-tab="transactions">üí≥ Transacciones</button>
                <button class="tab-btn" data-tab="accounts">üè¶ Cuentas</button>
                <button class="tab-btn" data-tab="envelopes">üì¶ Presupuestos</button>
                <button class="tab-btn" data-tab="loans">üè¶ Pr√©stamos</button>
                <button class="tab-btn" data-tab="investments">üìà Inversiones</button>
                <button class="tab-btn" data-tab="assets">üè† Patrimonio</button>
                <button class="tab-btn" data-tab="charts">üìä An√°lisis</button>
            </div>

            <!-- Tab: Transacciones -->
            <div class="tab-content active" id="transactions-tab">
                <div class="form-section">
                    <h2>Nueva Transacci√≥n</h2>
                    <form id="transactionForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="transactionType">Tipo</label>
                                <select id="transactionType" required>
                                    <option value="income">Ingreso</option>
                                    <option value="expense">Gasto</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="transactionDate">Fecha</label>
                                <input type="date" id="transactionDate" required>
                            </div>
                            <div class="form-group">
                                <label for="transactionAmount">Monto</label>
                                <input type="number" id="transactionAmount" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="categoryGeneral">Categor√≠a General</label>
                                <select id="categoryGeneral" required>
                                    <option value="">Seleccionar...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="categorySpecific">Categor√≠a Espec√≠fica</label>
                                <div style="display: flex; gap: 8px;">
                                    <select id="categorySpecific" required style="flex: 1;">
                                    <option value="">Seleccionar...</option>
                                </select>
                                    <button type="button" id="addCustomCategoryBtn" class="btn-secondary" style="white-space: nowrap; padding: 10px 12px;" title="Agregar categor√≠a personalizada">‚ûï</button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="envelope">Sobre (Opcional)</label>
                                <select id="envelope">
                                    <option value="">Ninguno</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="transactionAccount">Cuenta Bancaria (Opcional)</label>
                                <select id="transactionAccount">
                                    <option value="">Ninguna</option>
                                </select>
                                <small>Selecciona la cuenta desde/hacia la que se realiza la transacci√≥n</small>
                            </div>
                            <div class="form-group">
                                <label for="transactionInvestment">Inversi√≥n (Opcional)</label>
                                <select id="transactionInvestment">
                                    <option value="">Ninguna</option>
                                </select>
                                <small>Si este gasto/ingreso es para una inversi√≥n, selecci√≥nala</small>
                            </div>
                            <div class="form-group" style="flex: 2;">
                                <label for="transactionDescription">Descripci√≥n</label>
                                <input type="text" id="transactionDescription" placeholder="Ej: Compra en supermercado">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Agregar Transacci√≥n</button>
                    </form>
                </div>

                <div class="table-section">
                    <h2>Historial de Transacciones</h2>
                    <div class="table-controls">
                        <input type="text" id="searchInput" placeholder="üîç Buscar...">
                        <select id="filterCategory">
                            <option value="">Todas las categor√≠as</option>
                        </select>
                        <select id="filterMonth">
                            <option value="">Todos los meses</option>
                        </select>
                    </div>
                    <div class="table-container">
                        <table id="transactionsTable">
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Tipo</th>
                                    <th>Categor√≠a</th>
                                    <th>Descripci√≥n</th>
                                    <th>Cuenta</th>
                                    <th>Sobre</th>
                                    <th>Monto</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="transactionsBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Tab: Cuentas Bancarias -->
            <div class="tab-content" id="accounts-tab">
                <div class="form-section">
                    <h2 style="margin-bottom: 24px;">üè¶ Gestionar Cuentas Bancarias</h2>
                    <div style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light); margin-bottom: 24px;">
                        <p style="font-size: 14px; color: var(--gray-600); margin-bottom: 20px;">Registra tus cuentas bancarias para hacer seguimiento de tus saldos en diferentes entidades y tipos de cuenta.</p>
                    </div>
                    <form id="accountForm" style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="accountName">Nombre de la Cuenta</label>
                                <input type="text" id="accountName" placeholder="Ej: Cuenta N√≥mina BBVA" required>
                            </div>
                            <div class="form-group">
                                <label for="accountType">Tipo de Cuenta</label>
                                <select id="accountType" required>
                                    <option value="checking">Cuenta Corriente</option>
                                    <option value="savings">Cuenta de Ahorros</option>
                                    <option value="credit">Tarjeta de Cr√©dito</option>
                                    <option value="investment">Cuenta de Inversi√≥n</option>
                                    <option value="other">Otra</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="accountBank">Banco (Opcional)</label>
                                <input type="text" id="accountBank" placeholder="Ej: BBVA, Santander, etc.">
                            </div>
                            <div class="form-group">
                                <label for="accountNumber">N√∫mero de Cuenta (Opcional)</label>
                                <input type="text" id="accountNumber" placeholder="√öltimos 4 d√≠gitos o referencia">
                            </div>
                            <div class="form-group">
                                <label for="accountBalance">Saldo Actual (‚Ç¨)</label>
                                <input type="number" id="accountBalance" step="0.01" required placeholder="0.00">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group full-width">
                                <label for="accountDescription">Descripci√≥n (Opcional)</label>
                                <input type="text" id="accountDescription" placeholder="Ej: Cuenta principal para gastos diarios">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Agregar Cuenta</button>
                    </form>
                </div>
                <div class="accounts-grid" id="accountsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; margin-top: 30px;">
                </div>
            </div>

            <!-- Tab: Presupuestos -->
            <div class="tab-content" id="envelopes-tab">
                <div class="form-section">
                    <h2 style="margin-bottom: 24px;">üìã Gestionar Presupuestos y Sobres</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin-bottom: 24px;">
                        <div style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                                <span style="font-size: 20px;">üìä</span>
                                <h3 style="font-size: 18px; font-weight: 700; margin: 0; color: var(--gray-900);">Presupuesto por Categor√≠a</h3>
                            </div>
                            <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 20px;">Establece un presupuesto para una categor√≠a de ingreso o gasto. Puedes elegir entre presupuesto semanal, mensual o anual.</p>
                            <form id="budgetForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="budgetType">Tipo de Presupuesto</label>
                                        <select id="budgetType" required>
                                            <option value="expense">Gasto</option>
                                            <option value="income">Ingreso</option>
                                        </select>
                                        <small>Elige si es un presupuesto de ingreso o gasto</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="budgetCategory">Categor√≠a</label>
                                        <select id="budgetCategory" required>
                                            <option value="">Seleccionar categor√≠a...</option>
                                        </select>
                                        <small>Elige la categor√≠a que quieres presupuestar</small>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="budgetPeriodType">Tipo de Per√≠odo</label>
                                        <select id="budgetPeriodType" required>
                                            <option value="weekly">Semanal</option>
                                            <option value="monthly" selected>Mensual</option>
                                            <option value="yearly">Anual</option>
                                        </select>
                                        <small>Frecuencia del presupuesto</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="budgetPeriodValue" id="budgetPeriodValueLabel">Mes de Inicio</label>
                                        <input type="month" id="budgetPeriodValue" required>
                                        <small id="budgetPeriodValueHelp">Mes desde el que comienza el presupuesto</small>
                                    </div>
                                    <div class="form-group" id="budgetDurationGroup">
                                        <label for="budgetDuration" id="budgetDurationLabel">Duraci√≥n</label>
                                        <select id="budgetDuration">
                                            <option value="1">1 mes</option>
                                            <option value="3">3 meses</option>
                                            <option value="6">6 meses</option>
                                            <option value="12">12 meses (1 a√±o)</option>
                                            <option value="24">24 meses (2 a√±os)</option>
                                            <option value="0">Indefinido (hasta cancelar)</option>
                                        </select>
                                        <small id="budgetDurationHelp">Por cu√°ntos meses aplicar este presupuesto</small>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="budgetAmount" id="budgetAmountLabel">Presupuesto Mensual (‚Ç¨)</label>
                                        <input type="number" id="budgetAmount" step="0.01" min="0" required placeholder="0.00">
                                        <small id="budgetAmountHelp">L√≠mite m√°ximo de gasto para esta categor√≠a</small>
                                    </div>
                                </div>
                                <button type="submit" class="btn-primary" style="width: 100%; margin-top: 8px;">üíæ Establecer Presupuesto</button>
                            </form>
                        </div>
                        <div style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                                <span style="font-size: 20px;">üì¶</span>
                                <h3 style="font-size: 18px; font-weight: 700; margin: 0; color: var(--gray-900);">Sobre (Presupuesto Flexible)</h3>
                            </div>
                            <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 20px;">Crea un sobre para ahorrar para un objetivo espec√≠fico. Puedes asignar transacciones a sobres.</p>
                    <form id="envelopeForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="envelopeName">Nombre del Sobre</label>
                                        <input type="text" id="envelopeName" placeholder="Ej: Vacaciones, Emergencias, Regalos..." required>
                                        <small>Un nombre descriptivo para tu objetivo</small>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="envelopeBudget">Presupuesto Mensual (‚Ç¨)</label>
                                        <input type="number" id="envelopeBudget" step="0.01" min="0" required placeholder="0.00">
                                        <small>Cu√°nto planeas ahorrar cada mes en este sobre</small>
                                    </div>
                                </div>
                                <button type="submit" class="btn-primary" style="width: 100%; margin-top: 8px;">‚ûï Crear Sobre</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div style="margin-top: 32px;">
                    <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; color: var(--gray-900);">Presupuestos del Mes</h2>
                    <div id="budgetsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; margin-bottom: 32px;">
                    </div>
                    <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; color: var(--gray-900);">Sobres</h2>
                    <div class="envelopes-grid" id="envelopesGrid">
                    </div>
                </div>
            </div>

            <!-- Tab: Pr√©stamos -->
            <div class="tab-content" id="loans-tab">
                <div class="form-section">
                    <h2 style="margin-bottom: 24px;">üè¶ Gestionar Pr√©stamos e Hipotecas</h2>
                    
                    <!-- Modal para tabla de amortizaci√≥n -->
                    <div id="amortizationModal" class="modal" style="display: none;">
                        <div class="modal-content" style="max-width: 90%; width: 1000px;">
                            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <h2 id="amortizationModalTitle" style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üìä Tabla de Amortizaci√≥n</h2>
                                    <button id="closeAmortizationModal" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                                </div>
                            </div>
                            <div id="amortizationModalContent" style="padding: 32px; max-height: 70vh; overflow-y: auto;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Modal para amortizaci√≥n anticipada -->
                    <div id="earlyPaymentModal" class="modal" style="display: none;">
                        <div class="modal-content" style="max-width: 600px;">
                            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <h2 style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üí∞ Amortizaci√≥n Anticipada</h2>
                                    <button id="closeEarlyPaymentModal" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                                </div>
                            </div>
                            <div style="padding: 32px;">
                                <div id="earlyPaymentLoanInfo" style="margin-bottom: 24px; padding: 20px; background: var(--gray-50); border-radius: 12px; border-left: 4px solid var(--primary);">
                                </div>
                                <form id="earlyPaymentForm" style="display: flex; flex-direction: column; gap: 20px;">
                                    <div class="form-group">
                                        <label for="earlyPaymentAmount">Monto a Amortizar (‚Ç¨)</label>
                                        <input type="number" id="earlyPaymentAmount" step="0.01" min="0.01" required placeholder="0.00" style="width: 100%; padding: 14px 18px; border: 1.5px solid var(--border-color); border-radius: 10px; font-size: 15px;">
                                        <small style="color: var(--gray-500); margin-top: 6px; display: block;">Ingresa el monto que deseas amortizar anticipadamente</small>
                                    </div>
                                    <div id="earlyPaymentCommissionInfo" style="padding: 16px; background: #FEF3C7; border-radius: 12px; border-left: 4px solid var(--warning); display: none;">
                                        <strong style="color: var(--gray-900);">Comisi√≥n:</strong> <span id="earlyPaymentCommissionAmount" style="color: var(--gray-700);">0,00 ‚Ç¨</span>
                                    </div>
                                    <div style="display: flex; gap: 12px; justify-content: flex-end; padding-top: 20px; border-top: 1px solid var(--border-color);">
                                        <button type="button" class="btn-secondary" id="cancelEarlyPaymentBtn">Cancelar</button>
                                        <button type="submit" class="btn-primary">‚úÖ Confirmar Amortizaci√≥n</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light); margin-bottom: 24px;">
                        <p style="font-size: 14px; color: var(--gray-600); margin-bottom: 20px;">Registra tus pr√©stamos e hipotecas para hacer un seguimiento del capital restante, intereses y realizar simulaciones de amortizaci√≥n anticipada.</p>
                    </div>
                    <form id="loanForm" style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanName">Nombre del Pr√©stamo</label>
                                <input type="text" id="loanName" placeholder="Ej: Hipoteca vivienda" required>
                            </div>
                            <div class="form-group">
                                <label for="loanType">Tipo</label>
                                <select id="loanType" required>
                                    <option value="debt">Deuda (Debo)</option>
                                    <option value="credit">Cr√©dito (Me deben)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanPrincipal">Monto Principal (‚Ç¨)</label>
                                <input type="number" id="loanPrincipal" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="loanInterestRate">TIN - Tipo de Inter√©s Nominal (%)</label>
                                <input type="number" id="loanInterestRate" step="0.01" min="0" max="100" required>
                                <small style="color: #666;">Inter√©s puro sin comisiones</small>
                            </div>
                            <div class="form-group">
                                <label for="loanTAE">TAE - Tasa Anual Equivalente (%)</label>
                                <input type="number" id="loanTAE" step="0.01" min="0" max="100" placeholder="Opcional">
                                <small style="color: #666; font-weight: 600;">‚ö†Ô∏è IMPORTANTE: Incluye comisiones y gastos. Es el costo REAL del pr√©stamo.</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanStartDate">Fecha de Inicio</label>
                                <input type="date" id="loanStartDate" required>
                            </div>
                            <div class="form-group">
                                <label for="loanEndDate">Fecha de Fin</label>
                                <input type="date" id="loanEndDate" required>
                            </div>
                            <div class="form-group">
                                <label for="loanMonthlyPayment">Pago Mensual (‚Ç¨)</label>
                                <input type="number" id="loanMonthlyPayment" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanOpeningCommission">Comisi√≥n de Apertura (‚Ç¨)</label>
                                <input type="number" id="loanOpeningCommission" step="0.01" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="loanEarlyPaymentCommission">Comisi√≥n Amortizaci√≥n Anticipada (%)</label>
                                <input type="number" id="loanEarlyPaymentCommission" step="0.01" min="0" max="100" value="0">
                            </div>
                            <div class="form-group">
                                <label for="loanPaymentDay">D√≠a de Pago del Mes</label>
                                <input type="number" id="loanPaymentDay" min="1" max="31" value="1" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group full-width">
                                <label for="loanDescription">Descripci√≥n (Opcional)</label>
                                <input type="text" id="loanDescription" placeholder="Ej: Hipoteca banco XYZ, cuenta 1234">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Agregar Pr√©stamo</button>
                    </form>
                </div>
                <div class="loans-grid" id="loansGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 30px;">
                </div>
            </div>

            <!-- Tab: Inversiones -->
            <div class="tab-content" id="investments-tab">
                <div class="form-section">
                    <h2 style="margin-bottom: 24px;">üìà Gestionar Inversiones</h2>
                    <div style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light); margin-bottom: 24px;">
                        <p style="font-size: 14px; color: var(--gray-600); margin-bottom: 20px;">Registra tus inversiones para hacer seguimiento de su rendimiento, ganancias/p√©rdidas y rentabilidad total.</p>
                    </div>
                    <form id="investmentForm" style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="investmentName">Nombre de la Inversi√≥n</label>
                                <input type="text" id="investmentName" placeholder="Ej: Acciones Apple, Plan de Pensiones" required>
                            </div>
                            <div class="form-group">
                                <label for="investmentType">Tipo</label>
                                <select id="investmentType" required>
                                    <option value="stocks">Acciones</option>
                                    <option value="bonds">Bonos</option>
                                    <option value="crypto">Criptomonedas</option>
                                    <option value="funds">Fondos</option>
                                    <option value="real_estate">Inmuebles</option>
                                    <option value="other">Otros</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="investmentCurrentValue">Valor Actual (‚Ç¨)</label>
                                <input type="number" id="investmentCurrentValue" step="0.01" min="0" required>
                                <small>Valor actual de tu inversi√≥n</small>
                            </div>
                            <div class="form-group full-width">
                                <label for="investmentDescription">Descripci√≥n (Opcional)</label>
                                <input type="text" id="investmentDescription" placeholder="Ej: Inversi√≥n a largo plazo">
                            </div>
                        </div>
                        <div style="background: var(--gray-50); padding: 16px; border-radius: var(--radius); margin: 16px 0; border-left: 3px solid var(--primary);">
                            <p style="font-size: 13px; color: var(--gray-700); margin: 0;">
                                üí° <strong>Funciona como una hucha:</strong> Una vez creada, podr√°s ir a√±adiendo dinero progresivamente. La rentabilidad se calcular√° autom√°ticamente en base al total invertido vs el valor actual.
                            </p>
                        </div>
                        <div class="form-row" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color);">
                            <div class="form-group full-width">
                                <label style="font-weight: 600; margin-bottom: 12px; display: block;">üí° Aportes Peri√≥dicos (Opcional)</label>
                                <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 12px;">
                                    <input type="checkbox" id="enablePeriodicContribution" style="width: auto;">
                                    <label for="enablePeriodicContribution" style="margin: 0; font-weight: normal;">Activar aportes peri√≥dicos</label>
                                </div>
                            </div>
                        </div>
                        <div id="periodicContributionFields" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contributionFrequency">Frecuencia</label>
                                    <select id="contributionFrequency">
                                        <option value="weekly">Semanal</option>
                                        <option value="monthly" selected>Mensual</option>
                                        <option value="yearly">Anual</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="contributionAmount">Monto del Aporte (‚Ç¨)</label>
                                    <input type="number" id="contributionAmount" step="0.01" min="0" placeholder="0.00">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contributionStartDate">Fecha de Inicio</label>
                                    <input type="date" id="contributionStartDate">
                                </div>
                                <div class="form-group">
                                    <label for="contributionEndDate">Fecha de Fin (Opcional)</label>
                                    <input type="date" id="contributionEndDate">
                                    <small>Dejar vac√≠o para aportes indefinidos</small>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Agregar Inversi√≥n</button>
                    </form>
                </div>
                <div class="investments-grid" id="investmentsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 16px; margin-top: 24px;">
                </div>
            </div>

            <!-- Tab: Patrimonio -->
            <div class="tab-content" id="assets-tab">
                <div class="form-section">
                    <h2 style="margin-bottom: 24px;">üè† Gestionar Patrimonio</h2>
                    <div style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light); margin-bottom: 24px;">
                        <p style="font-size: 14px; color: var(--gray-600); margin-bottom: 20px;">Registra tus bienes (viviendas, veh√≠culos, joyas, etc.) y haz seguimiento de la evoluci√≥n de su valor a lo largo del tiempo.</p>
                    </div>
                    <form id="assetForm" style="background: white; padding: 24px; border-radius: var(--radius); border: 1px solid var(--border-color); box-shadow: var(--shadow-light);">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="assetName">Nombre del Bien</label>
                                <input type="text" id="assetName" placeholder="Ej: Piso en Madrid, Coche Toyota" required>
                            </div>
                            <div class="form-group">
                                <label for="assetType">Tipo de Bien</label>
                                <select id="assetType" required>
                                    <option value="property">Propiedad</option>
                                    <option value="vehicle">Veh√≠culo</option>
                                    <option value="jewelry">Joyas</option>
                                    <option value="art">Arte</option>
                                    <option value="electronics">Electr√≥nica</option>
                                    <option value="other">Otro</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="assetPurchaseDate">Fecha de Adquisici√≥n</label>
                                <input type="date" id="assetPurchaseDate" required>
                            </div>
                            <div class="form-group">
                                <label for="assetPurchasePrice">Precio de Compra (‚Ç¨)</label>
                                <input type="number" id="assetPurchasePrice" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="assetCurrentValue">Valor Actual (‚Ç¨)</label>
                                <input type="number" id="assetCurrentValue" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="assetLocation">Ubicaci√≥n (Opcional)</label>
                                <input type="text" id="assetLocation" placeholder="Ej: Madrid, Calle Mayor 123">
                            </div>
                            <div class="form-group" style="flex: 2;">
                                <label for="assetDescription">Descripci√≥n (Opcional)</label>
                                <input type="text" id="assetDescription" placeholder="Ej: Piso de 80m¬≤, 3 habitaciones">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Agregar Bien</button>
                    </form>
                </div>
                <div class="assets-grid" id="assetsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 30px;">
                </div>
            </div>

            <!-- Tab: An√°lisis -->
            <div class="tab-content" id="charts-tab">
                <div class="chart-controls" style="margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                    <label style="font-weight: 600;">Per√≠odo:</label>
                    <select id="chartPeriod" style="padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                        <option value="1">√öltimo mes</option>
                        <option value="3">√öltimos 3 meses</option>
                        <option value="6" selected>√öltimos 6 meses</option>
                        <option value="12">√öltimo a√±o</option>
                        <option value="24">√öltimos 2 a√±os</option>
                        <option value="all">Todo el historial</option>
                    </select>
                </div>
                
                <!-- M√©tricas de Salud Financiera -->
                <div style="margin-bottom: 32px;">
                    <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 24px; color: var(--gray-900);">üí° Indicadores de Salud Financiera</h2>
                    <div id="financialHealthMetrics" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 32px;">
                        <!-- Se llenar√° din√°micamente -->
                    </div>
                </div>
                
                <!-- Tablas de An√°lisis -->
                <div style="margin-bottom: 32px;">
                    <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; color: var(--gray-900);">üìä An√°lisis Detallado</h2>
                    
                    <!-- Top Gastos -->
                    <div class="table-section" style="margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üî• Top Gastos del Per√≠odo</h3>
                        <div class="table-container">
                            <table id="topExpensesTable">
                                <thead>
                                    <tr>
                                        <th>Fecha</th>
                                        <th>Categor√≠a</th>
                                        <th>Descripci√≥n</th>
                                        <th>Monto</th>
                                    </tr>
                                </thead>
                                <tbody id="topExpensesBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Gastos Recurrentes -->
                    <div class="table-section" style="margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üîÑ Gastos Recurrentes</h3>
                        <div class="table-container">
                            <table id="recurringExpensesTable">
                                <thead>
                                    <tr>
                                        <th>Categor√≠a</th>
                                        <th>Frecuencia</th>
                                        <th>Promedio Mensual</th>
                                        <th>Total Per√≠odo</th>
                                    </tr>
                                </thead>
                                <tbody id="recurringExpensesBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Comparativa Mensual -->
                    <div class="table-section" style="margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üìÖ Comparativa Mensual</h3>
                        <div class="table-container">
                            <table id="monthlyComparisonTable">
                                <thead>
                                    <tr>
                                        <th>Mes</th>
                                        <th>Ingresos</th>
                                        <th>Gastos</th>
                                        <th>Ahorro</th>
                                        <th>% Ahorro</th>
                                    </tr>
                                </thead>
                                <tbody id="monthlyComparisonBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- An√°lisis por Categor√≠a -->
                    <div class="table-section" style="margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üìã An√°lisis por Categor√≠a</h3>
                        <div class="table-container">
                            <table id="categoryAnalysisTable">
                                <thead>
                                    <tr>
                                        <th>Categor√≠a</th>
                                        <th>Total</th>
                                        <th>% del Total</th>
                                        <th>Promedio Mensual</th>
                                        <th>Transacciones</th>
                                    </tr>
                                </thead>
                                <tbody id="categoryAnalysisBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Gr√°ficas -->
                <div>
                    <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; color: var(--gray-900);">üìà Gr√°ficas</h2>
                <div class="charts-container">
                    <div class="chart-card">
                        <h3>Evoluci√≥n de Ahorro</h3>
                        <canvas id="savingsChart"></canvas>
                    </div>
                    <div class="chart-card">
                            <h3>Gastos por Categor√≠a</h3>
                        <canvas id="expensesChart"></canvas>
                    </div>
                    <div class="chart-card">
                            <h3>Ingresos vs Gastos</h3>
                        <canvas id="incomeExpenseChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Distribuci√≥n de Gastos</h3>
                        <canvas id="distributionChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Evoluci√≥n de Ingresos</h3>
                            <canvas id="incomeEvolutionChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Evoluci√≥n de Gastos</h3>
                            <canvas id="expensesEvolutionChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Pr√©stamos Pendientes</h3>
                            <canvas id="loansPendingChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Evoluci√≥n del Patrimonio</h3>
                            <canvas id="assetsEvolutionChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Evoluci√≥n de Saldo en Cuentas</h3>
                            <canvas id="accountsBalanceChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para agregar categor√≠a personalizada -->
    <div id="customCategoryModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="modal-close" id="closeCustomCategoryModal">&times;</span>
            <h2>‚ûï Agregar Categor√≠a Personalizada</h2>
               <form id="customCategoryForm">
                   <div class="form-group" style="margin-bottom: 20px;">
                       <label for="customCategoryType">Tipo de Categor√≠a</label>
                       <select id="customCategoryType" required style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px;">
                           <option value="">Seleccionar tipo...</option>
                           <option value="income">Ingreso</option>
                           <option value="expense">Gasto</option>
                       </select>
                       <small style="color: var(--gray-500);">Elige si es una categor√≠a de ingreso o gasto</small>
                   </div>
                   <div class="form-group" style="margin-bottom: 20px;">
                       <label for="customCategoryParent">Categor√≠a Padre (Opcional)</label>
                       <select id="customCategoryParent" style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px;">
                           <option value="">Crear nueva categor√≠a</option>
                       </select>
                       <small style="color: var(--gray-500);">Selecciona una categor√≠a existente para agregar subcategor√≠as, o d√©jalo vac√≠o para crear una nueva categor√≠a</small>
                   </div>
                   <div class="form-group" style="margin-bottom: 20px;" id="newCategoryGroup">
                       <label for="customCategoryName">Nombre de la Categor√≠a</label>
                       <input type="text" id="customCategoryName" placeholder="Ej: Suscripciones, Bonos, etc." style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px;">
                       <small style="color: var(--gray-500);">Nombre descriptivo para tu categor√≠a</small>
                   </div>
                   <div class="form-group" style="margin-bottom: 20px;" id="subcategoryGroup" style="display: none;">
                       <label for="customCategorySubcategories">Nueva Subcategor√≠a</label>
                       <input type="text" id="customCategorySubcategories" placeholder="Ej: Netflix, Spotify, Amazon Prime (separadas por comas)" style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px;">
                       <small style="color: var(--gray-500);">Separa las subcategor√≠as con comas. Se agregar√°n a la categor√≠a seleccionada</small>
                   </div>
                <div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 24px;">
                    <button type="button" class="btn-secondary" id="cancelCustomCategoryBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">‚úÖ Crear Categor√≠a</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Perfil de Usuario -->
    <div id="userProfileModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 700px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üë§ Mi Perfil</h2>
                    <button id="closeUserProfileModal" onclick="closeUserProfile()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            
            <form id="userProfileForm" style="padding: 32px; display: flex; flex-direction: column; gap: 24px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label for="profileFirstName">Nombre</label>
                        <input type="text" id="profileFirstName" placeholder="Tu nombre">
                    </div>
                    <div class="form-group">
                        <label for="profileLastName">Apellidos</label>
                        <input type="text" id="profileLastName" placeholder="Tus apellidos">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label for="profileAge">Edad</label>
                        <input type="number" id="profileAge" min="1" max="120" placeholder="Tu edad">
                    </div>
                    <div class="form-group">
                        <label for="profileBirthDate">Fecha de Nacimiento</label>
                        <input type="date" id="profileBirthDate">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="profileEmail">Email</label>
                    <input type="email" id="profileEmail" disabled style="background: var(--gray-50); cursor: not-allowed;">
                    <small style="color: var(--gray-500);">El email no se puede cambiar</small>
                </div>
                
                <div class="form-group">
                    <label for="profileUsername">Nombre de Usuario</label>
                    <input type="text" id="profileUsername" disabled style="background: var(--gray-50); cursor: not-allowed;">
                    <small style="color: var(--gray-500);">El nombre de usuario no se puede cambiar</small>
                </div>
                
                <div class="form-group">
                    <label for="profilePhone">Tel√©fono</label>
                    <input type="tel" id="profilePhone" placeholder="+34 600 000 000">
                </div>
                
                <div class="form-group">
                    <label for="profileAddress">Direcci√≥n</label>
                    <input type="text" id="profileAddress" placeholder="Calle, n√∫mero">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label for="profileCity">Ciudad</label>
                        <input type="text" id="profileCity" placeholder="Tu ciudad">
                    </div>
                    <div class="form-group">
                        <label for="profileCountry">Pa√≠s</label>
                        <input type="text" id="profileCountry" placeholder="Tu pa√≠s">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="profileNotes">Notas Personales</label>
                    <textarea id="profileNotes" rows="4" placeholder="Cualquier informaci√≥n adicional que quieras guardar..." style="width: 100%; padding: 10px 12px; border: 1.5px solid var(--gray-300); border-radius: var(--radius); font-size: 14px; font-family: inherit; resize: vertical;"></textarea>
                </div>
                
                <div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 24px; padding-top: 24px; padding-bottom: 8px; border-top: 1px solid var(--border-color);">
                    <button type="button" class="btn-secondary" onclick="closeUserProfile(); return false;">Cancelar</button>
                    <button type="submit" class="btn-primary">üíæ Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Detalles de Resumen -->
    <div id="summaryDetailsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 700px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 id="summaryDetailsTitle" style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;"></h2>
                    <button onclick="closeSummaryDetails()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div id="summaryDetailsContent" style="padding: 32px; line-height: 1.9; color: var(--gray-700); overflow-y: auto; flex: 1; max-height: 60vh;"></div>
        </div>
    </div>

    <!-- Modal para Meta de Ahorro -->
    <div id="savingsGoalModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üí∞ Meta de Ahorro</h2>
                    <button onclick="closeSavingsGoalModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div style="padding: 32px;">
                <form id="savingsGoalForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="form-group">
                        <label for="savingsGoalInput">Establece tu meta de ahorro (en euros)</label>
                        <input type="number" id="savingsGoalInput" min="0" step="0.01" placeholder="Ej: 10000" style="width: 100%; padding: 14px 18px; border: 1.5px solid var(--border-color); border-radius: 10px; font-size: 15px;">
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" class="btn-secondary" onclick="closeSavingsGoalModal()">Cancelar</button>
                        <button type="button" class="btn-secondary" onclick="deleteSavingsGoal()" style="background: var(--danger); color: white; border-color: var(--danger);">Eliminar Meta</button>
                        <button type="submit" class="btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para A√±adir Dinero a Inversi√≥n -->
    <div id="addMoneyInvestmentModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 id="addMoneyInvestmentTitle" style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üí∞ A√±adir Dinero</h2>
                    <button onclick="closeAddMoneyInvestmentModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div style="padding: 32px;">
                <div id="addMoneyInvestmentInfo" style="background: var(--gray-50); padding: 16px; border-radius: 10px; margin-bottom: 20px; color: var(--gray-700);"></div>
                <form id="addMoneyInvestmentForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="form-group">
                        <label for="addMoneyAmount">Cantidad a a√±adir (‚Ç¨)</label>
                        <input type="number" id="addMoneyAmount" min="0" step="0.01" placeholder="0.00" style="width: 100%; padding: 14px 18px; border: 1.5px solid var(--border-color); border-radius: 10px; font-size: 15px;">
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" class="btn-secondary" onclick="closeAddMoneyInvestmentModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">A√±adir</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Actualizar Valor de Inversi√≥n -->
    <div id="updateInvestmentValueModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 id="updateInvestmentValueTitle" style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üìä Actualizar Valor</h2>
                    <button onclick="closeUpdateInvestmentValueModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div style="padding: 32px;">
                <form id="updateInvestmentValueForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="form-group">
                        <label for="updateInvestmentValueInput">Nuevo valor (‚Ç¨)</label>
                        <input type="number" id="updateInvestmentValueInput" min="0" step="0.01" placeholder="0.00" style="width: 100%; padding: 14px 18px; border: 1.5px solid var(--border-color); border-radius: 10px; font-size: 15px;">
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" class="btn-secondary" onclick="closeUpdateInvestmentValueModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Actualizar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Actualizar Saldo de Cuenta -->
    <div id="updateAccountBalanceModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 id="updateAccountBalanceTitle" style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üí≥ Actualizar Saldo</h2>
                    <button onclick="closeUpdateAccountBalanceModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div style="padding: 32px;">
                <form id="updateAccountBalanceForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="form-group">
                        <label for="updateAccountBalanceInput">Nuevo saldo (‚Ç¨)</label>
                        <input type="number" id="updateAccountBalanceInput" step="0.01" placeholder="0.00" style="width: 100%; padding: 14px 18px; border: 1.5px solid var(--border-color); border-radius: 10px; font-size: 15px;">
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" class="btn-secondary" onclick="closeUpdateAccountBalanceModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Actualizar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Actualizar Valor de Bien -->
    <div id="updateAssetValueModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 id="updateAssetValueTitle" style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üè† Actualizar Valor</h2>
                    <button onclick="closeUpdateAssetValueModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div style="padding: 32px;">
                <form id="updateAssetValueForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="form-group">
                        <label for="updateAssetValueInput">Nuevo valor actual (‚Ç¨)</label>
                        <input type="number" id="updateAssetValueInput" min="0" step="0.01" placeholder="0.00" style="width: 100%; padding: 14px 18px; border: 1.5px solid var(--border-color); border-radius: 10px; font-size: 15px;">
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" class="btn-secondary" onclick="closeUpdateAssetValueModal()">Cancelar</button>
                        <button type="submit" class="btn-primary">Actualizar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modales de Pol√≠ticas -->
    <div id="privacyModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üîí Pol√≠tica de Privacidad</h2>
                    <button onclick="closePrivacyModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div id="privacyContent" style="padding: 32px; line-height: 1.9; color: var(--gray-700); overflow-y: auto; flex: 1;"></div>
        </div>
    </div>

    <div id="cookiesModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üç™ Pol√≠tica de Cookies</h2>
                    <button onclick="closeCookiesModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div id="cookiesContent" style="padding: 32px; line-height: 1.9; color: var(--gray-700); overflow-y: auto; flex: 1;"></div>
        </div>
    </div>

    <div id="termsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); padding: 28px 32px; color: white; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="margin: 0; font-size: 26px; font-weight: 700; color: white; letter-spacing: -0.5px;">üìã T√©rminos y Condiciones</h2>
                    <button onclick="closeTermsModal()" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s; cursor: pointer; font-size: 20px; font-weight: 300;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
                </div>
            </div>
            <div id="termsContent" style="padding: 32px; line-height: 1.9; color: var(--gray-700); overflow-y: auto; flex: 1;"></div>
        </div>
    </div>

    <!-- Cargar aplicaci√≥n JavaScript directamente -->
    <script src="/app.js?v=2.11.0"></script>
    
    <!-- Footer -->
    <footer style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: rgba(255,255,255,0.9); padding: 16px 20px; margin-top: 40px; border-top: 1px solid rgba(255,255,255,0.2);">
        <div style="max-width: 1200px; margin: 0 auto;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 12px;">
                <div>
                    <h3 style="color: white; margin-bottom: 8px; font-size: 14px; display: flex; align-items: center; gap: 6px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="24" height="24" rx="6" fill="white" fill-opacity="0.2"/>
                            <path d="M12 4L6 8V18H18V8L12 4Z" fill="white" fill-opacity="0.9"/>
                            <path d="M8 12H16M8 16H16" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                            <circle cx="12" cy="10" r="1" fill="white"/>
                        </svg>
                        Veedor
                    </h3>
                    <p style="font-size: 11px; line-height: 1.4; color: rgba(255,255,255,0.8); margin: 0;">
                        Control total de tus finanzas personales.
                    </p>
                </div>
                <div>
                    <h4 style="color: white; margin-bottom: 8px; font-size: 13px;">Enlaces</h4>
                    <ul style="list-style: none; padding: 0; margin: 0;">
                        <li style="margin-bottom: 4px;"><a href="javascript:void(0);" onclick="if(typeof showPrivacyModal === 'function') { showPrivacyModal(); } else { console.error('showPrivacyModal no est√° definida'); } return false;" style="color: rgba(255,255,255,0.8); text-decoration: none; font-size: 11px; transition: color 0.2s; cursor: pointer;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">Pol√≠tica de Privacidad</a></li>
                        <li style="margin-bottom: 4px;"><a href="javascript:void(0);" onclick="if(typeof showCookiesModal === 'function') { showCookiesModal(); } else { console.error('showCookiesModal no est√° definida'); } return false;" style="color: rgba(255,255,255,0.8); text-decoration: none; font-size: 11px; transition: color 0.2s; cursor: pointer;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">Pol√≠tica de Cookies</a></li>
                        <li style="margin-bottom: 4px;"><a href="javascript:void(0);" onclick="if(typeof showTermsModal === 'function') { showTermsModal(); } else { console.error('showTermsModal no est√° definida'); } return false;" style="color: rgba(255,255,255,0.8); text-decoration: none; font-size: 11px; transition: color 0.2s; cursor: pointer;" onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">T√©rminos y Condiciones</a></li>
                    </ul>
                </div>
            </div>
            <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 10px; text-align: center;">
                <p style="font-size: 10px; color: rgba(255,255,255,0.7); margin: 0;">
                    ¬© 2025 <strong style="color: white;">Pablo Beneitez</strong>. Todos los derechos reservados.
                </p>
            </div>
        </div>
    </footer>
</body>
</html>

