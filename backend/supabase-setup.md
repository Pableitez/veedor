# ConfiguraciÃ³n de Supabase para Veedor

## ðŸš€ Pasos para Configurar Supabase

### 1. Crear Proyecto en Supabase
1. Ve a [supabase.com](https://supabase.com)
2. Crea una cuenta gratuita
3. Crea un nuevo proyecto
4. Anota tu URL y API Key

### 2. Configurar Base de Datos
1. Ve a la pestaÃ±a "SQL Editor"
2. Ejecuta el script `database-schema.sql`
3. Verifica que todas las tablas se crearon correctamente

### 3. Configurar AutenticaciÃ³n
1. Ve a "Authentication" > "Settings"
2. Habilita "Email" como provider
3. Configura las URLs de redirecciÃ³n:
   - Site URL: `http://localhost:3000` (desarrollo)
   - Redirect URLs: `http://localhost:3000/auth/callback`

### 4. Configurar Row Level Security (RLS)
```sql
-- Habilitar RLS en todas las tablas
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE financial_profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE categories ENABLE ROW LEVEL SECURITY;
ALTER TABLE recurring_expenses ENABLE ROW LEVEL SECURITY;
ALTER TABLE transactions ENABLE ROW LEVEL SECURITY;
ALTER TABLE budgets ENABLE ROW LEVEL SECURITY;
ALTER TABLE financial_goals ENABLE ROW LEVEL SECURITY;
ALTER TABLE financial_analytics ENABLE ROW LEVEL SECURITY;

-- PolÃ­ticas para usuarios (solo pueden ver sus propios datos)
CREATE POLICY "Users can view own data" ON users
    FOR ALL USING (auth.uid() = id);

CREATE POLICY "Users can view own financial profiles" ON financial_profiles
    FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own categories" ON categories
    FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own transactions" ON transactions
    FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own recurring expenses" ON recurring_expenses
    FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own budgets" ON budgets
    FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own goals" ON financial_goals
    FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own analytics" ON financial_analytics
    FOR ALL USING (auth.uid() = user_id);
```

### 5. Variables de Entorno
Crear archivo `.env` en la raÃ­z del proyecto:
```env
VITE_SUPABASE_URL=tu_supabase_url_aqui
VITE_SUPABASE_ANON_KEY=tu_supabase_anon_key_aqui
```

### 6. Instalar Dependencias
```bash
npm install @supabase/supabase-js
```

## ðŸ“Š CaracterÃ­sticas del Sistema

### Perfiles de Usuario
- âœ… Registro e inicio de sesiÃ³n
- âœ… Perfil personal con avatar
- âœ… ConfiguraciÃ³n de moneda y zona horaria
- âœ… Datos financieros bÃ¡sicos (salario, objetivos)

### GestiÃ³n de Transacciones
- âœ… Transacciones de ingresos y gastos
- âœ… CategorÃ­as personalizables
- âœ… Tags y notas
- âœ… UbicaciÃ³n de transacciones
- âœ… Historial completo

### Gastos Recurrentes
- âœ… ConfiguraciÃ³n de gastos automÃ¡ticos
- âœ… Diferentes frecuencias (diario, semanal, mensual, anual)
- âœ… Recordatorios automÃ¡ticos
- âœ… Pausar/reanudar gastos

### Presupuestos y Objetivos
- âœ… Presupuestos por categorÃ­a y perÃ­odo
- âœ… Seguimiento de gastos vs presupuesto
- âœ… Objetivos financieros con fechas lÃ­mite
- âœ… Progreso visual de objetivos

### AnÃ¡lisis y Reportes
- âœ… AnÃ¡lisis automÃ¡tico de patrones
- âœ… Tendencias de gastos
- âœ… Tasas de ahorro
- âœ… Reportes por perÃ­odo
- âœ… ExportaciÃ³n de datos

## ðŸ”’ Seguridad
- âœ… AutenticaciÃ³n JWT
- âœ… Row Level Security (RLS)
- âœ… EncriptaciÃ³n de datos sensibles
- âœ… ValidaciÃ³n de entrada
- âœ… Rate limiting
